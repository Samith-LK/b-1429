import{j as e}from"./vendor-tanstack.YeVKbdAP.js";import{r as s}from"./vendor-react.Bbi9rRB1.js";import{u as t,S as r}from"./ui.DeJEgz8B.js";import"./vendor.oab3PlCc.js";import"./vendor-icons.BBV1TKlk.js";const a=({src:a,alt:o,className:l})=>{const[n,i]=s.useState(""),[c,d]=s.useState(!0),[m,u]=s.useState(!1),{toast:x}=t(),f=s.useCallback((()=>{const e=new Image;return e.onload=()=>{i(a),d(!1),u(!1)},e.onerror=()=>{u(!0),d(!1),x({variant:"destructive",title:"Image Load Error",description:"Failed to load image. Please try refreshing the page."})},e.src=a,()=>{e.onload=null,e.onerror=null}}),[a,x]);s.useEffect((()=>f()),[f]);const g=()=>{d(!0),u(!1),f()};return m?e.jsxs("div",{className:`${l} bg-gray-800 flex flex-col items-center justify-center p-4 rounded-lg`,children:[e.jsx("span",{className:"text-red-400 text-sm mb-2",children:"Failed to load image"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Retry"})]}):c?e.jsx("div",{className:`${l} flex items-center justify-center`,children:e.jsx(r,{className:"w-full h-full min-h-[200px]"})}):e.jsx("img",{src:n,alt:o,className:l,loading:"lazy",decoding:"async",onError:g})};export{a as default};
